# ngrok AI Gateway configuration for Ollama
version: "2"
inlets:
  - name: "ollama-ai-gateway"
    description: "AI Gateway for Ollama LLM access"
    upstream:
      url: "http://127.0.0.1:11434"
    policy:
      - type: "ip-restriction"
        ips:
          - "74.220.49.0/24"
          - "74.220.57.0/24"
        action: "allow"
      - type: "rate-limit"
        rate: "100r/m"  # 100 requests per minute
        action: "allow"
    # AI Gateway specific settings
    ai_gateway:
      enabled: true
      model: "ollama/*"  # Support all Ollama models
      max_tokens: 4000
      timeout: 300s
