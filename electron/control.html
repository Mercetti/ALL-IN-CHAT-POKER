<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Desktop Bot Control</title>
  <link rel="icon" type="image/png" href="../public/logo.png">
  <link rel="stylesheet" href="../public/style-theme.css">
  <style>
    body { padding: 24px; }
    .card { max-width: 720px; margin: 0 auto; background: rgba(255,255,255,0.04); border:1px solid rgba(255,255,255,0.08); border-radius:12px; padding:20px; }
    .row { display:flex; gap:10px; flex-wrap:wrap; margin-top:12px; }
    .btn { padding:10px 14px; border:none; border-radius:8px; cursor:pointer; font-weight:600; }
    .primary { background:#0ad5a5; color:#041311; }
    .danger { background:#e74c3c; color:#fff; }
    .secondary { background:#2d3b4d; color:#dfe7f5; }
    .muted { color:#b7c4d6; font-size:14px; }
    .status { margin-top:8px; font-weight:700; }
  </style>
  <script>
    const BASE_URL = new URLSearchParams(window.location.search).get('baseUrl') || 'http://localhost:3000';
  </script>
</head>
<body>
  <div class="card">
    <h1>Desktop Bot Control</h1>
    <p class="muted">Start/stop the Twitch bot locally and open the admin chat/code windows served by your site.</p>
    <div class="row">
      <button id="start-btn" class="btn primary">Start Bot</button>
      <button id="stop-btn" class="btn danger">Stop Bot</button>
      <button id="chat-btn" class="btn secondary">Open Chat</button>
      <button id="code-btn" class="btn secondary">Open Code</button>
      <button id="tests-btn" class="btn secondary">Run Tests</button>
    </div>
    <div id="status" class="status muted">Status: unknown</div>
    <div class="muted" style="margin-top:8px;">
      Chat and code windows point to your backend (<code>http://localhost:3000</code> by default) so knowledge/cache stays in sync.
    </div>
    <hr>
    <h3>Backend Login</h3>
    <p class="muted">Enter admin password to set your session (saves cookie for this machine).</p>
    <div class="row">
      <input id="admin-password" class="form-input" type="password" placeholder="Admin password" style="flex:1; min-width:220px;">
      <button id="login-btn" class="btn primary">Login Backend</button>
    </div>
    <div id="login-status" class="muted" style="margin-top:6px;">Not logged in</div>
  </div>
  <script src="control.js"></script>
</body>
</html>
