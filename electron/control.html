<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Desktop Bot Control</title>
  <link rel="icon" type="image/png" href="../public/logo.png">
  <link rel="stylesheet" href="../public/style-theme.css">
  <link rel="stylesheet" href="../src/styles/design-system.css">
  <link rel="stylesheet" href="../src/styles/typography.css">
  <style>
    body { 
      font-family: var(--font-family-primary);
      font-size: var(--font-size-base);
      line-height: var(--line-height-normal);
      padding: var(--space-6); 
    }
    .card { 
      max-width: 720px; 
      margin: 0 auto; 
      background: var(--color-bg-surface); 
      border: 1px solid var(--color-gray-300); 
      border-radius: var(--border-radius-lg); 
      padding: var(--space-6); 
    }
    .row { 
      display: flex; 
      gap: var(--space-3); 
      flex-wrap: wrap; 
      margin-top: var(--space-3); 
    }
    .btn { 
      padding: var(--space-3) var(--space-4); 
      border: none; 
      border-radius: var(--border-radius-base); 
      cursor: pointer; 
      font-weight: var(--font-weight-semibold); 
      transition: var(--transition-colors);
    }
    .primary { 
      background: var(--color-primary); 
      color: var(--color-white); 
    }
    .danger { 
      background: var(--color-error); 
      color: var(--color-white); 
    }
    .secondary { 
      background: var(--color-gray-600); 
      color: var(--color-white); 
    }
    .muted { 
      color: var(--color-gray-500); 
      font-size: var(--font-size-sm); 
    }
    .status { 
      margin-top: var(--space-2); 
      font-weight: var(--font-weight-bold); 
    }
  </style>
  <script>
    const BASE_URL = new URLSearchParams(window.location.search).get('baseUrl') || 'http://localhost:3000';
  </script>
</head>
<body>
  <div class="card">
    <h1>Desktop Bot Control</h1>
    <p class="muted">Start/stop the Twitch bot locally and open the admin chat/code windows served by your site.</p>
    <div class="row">
      <button id="start-btn" class="btn primary">Start Bot</button>
      <button id="stop-btn" class="btn danger">Stop Bot</button>
      <button id="chat-btn" class="btn secondary">Open Chat</button>
      <button id="code-btn" class="btn secondary">Open Code</button>
      <button id="tests-btn" class="btn secondary">Run Tests</button>
    </div>
    <div id="status" class="status muted">Status: unknown</div>
    <div class="muted" style="margin-top:8px;">
      Chat and code windows point to your backend (<code>http://localhost:3000</code> by default) so knowledge/cache stays in sync.
    </div>
    <hr>
    <h3>Backend Login</h3>
    <p class="muted">Enter admin password to set your session (saves cookie for this machine).</p>
    <div class="row">
      <input id="admin-password" class="form-input" type="password" placeholder="Admin password" style="flex:1; min-width:220px;">
      <button id="login-btn" class="btn primary">Login Backend</button>
    </div>
    <div id="login-status" class="muted" style="margin-top:6px;">Not logged in</div>
  </div>
  <script src="control.js"></script>
</body>
</html>
